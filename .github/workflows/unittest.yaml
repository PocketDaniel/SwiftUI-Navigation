name: Run unit tests

on:
  pull_request:
    types: [opened, synchronize, closed]

jobs:
# NOTE: Disabled unit tests to speedup process
  # unit_tests:
  #   if: github.event.pull_request.merged == false
  #   runs-on: macOS-13
  #   name: Run unit tests
  #   steps:
  #     - uses: actions/checkout@v4
  #     - name: Test
  #       run: | 
  #         xcodebuild test -scheme Test -resultBundlePath TestResults -destination 'platform=iOS Simulator,name=iPhone 14' && exit ${PIPESTATUS[0]}

  check_for_release:
    if: github.event.pull_request.merged && startsWith(github.event.pull_request.title, 'Release')
    runs-on: ubuntu-latest
    name: Check for release
    steps:
      - run: echo "Checking if PR is ready for release"